# ğŸ—ï¸ System Architecture & Flow Diagrams

## System Architecture Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     STREAMLIT WEB UI                        â”‚
â”‚                      (app.py - 450 lines)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚ Task Selection   â”‚  â”‚ Configuration    â”‚                 â”‚
â”‚  â”‚ - Paper Analysis â”‚  â”‚ - Docker Toggle  â”‚                 â”‚
â”‚  â”‚ - Stock Market   â”‚  â”‚ - Temp Slider    â”‚                 â”‚
â”‚  â”‚ - Web Research   â”‚  â”‚ - Max Retries    â”‚                 â”‚
â”‚  â”‚ - Custom Task    â”‚  â”‚ - Settings Panel â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚        Conversation Viewer & History                 â”‚   â”‚
â”‚  â”‚  - Message Display  - JSON Export  - Statistics     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   BACKEND LAYER                             â”‚
â”‚               (backend.py - 300 lines)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚    AutoGenAgentManager                               â”‚   â”‚
â”‚  â”‚  - Agent Initialization      - Error Recovery       â”‚   â”‚
â”‚  â”‚  - Chat Orchestration        - Performance Tracking â”‚   â”‚
â”‚  â”‚  - Config Loading            - History Management   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                                â”‚
â”‚                              â–¼                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚         TaskExecutor                                 â”‚   â”‚
â”‚  â”‚  - Paper Analysis Task      - Stock Market Task     â”‚   â”‚
â”‚  â”‚  - Web Research Task        - Custom Task           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              UTILITIES & HELPERS                            â”‚
â”‚                 (utils.py - 350 lines)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Logger   â”‚  â”‚ Message  â”‚  â”‚Validator â”‚  â”‚ Error    â”‚    â”‚
â”‚  â”‚          â”‚  â”‚Processor â”‚  â”‚          â”‚  â”‚Handler   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚Converter â”‚  â”‚Conversa- â”‚  â”‚Performance
â”‚  â”‚Manager   â”‚  â”‚tion Mgr  â”‚  â”‚Monitor   â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              CONFIGURATION LAYER                            â”‚
â”‚              (config.py - 120 lines)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Configuration Class                                  â”‚   â”‚
â”‚  â”‚ - API Settings      - Task Templates                â”‚   â”‚
â”‚  â”‚ - Model Config      - Validation Rules              â”‚   â”‚
â”‚  â”‚ - Logging Config    - Environment Loading           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            AUTOGEN AGENTS (Microsoft AutoGen)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  AssistantAgent      â”‚â—„â”€â”€â”€â”€â–ºâ”‚  UserProxyAgent      â”‚    â”‚
â”‚  â”‚ (LLM-based)          â”‚      â”‚ (Code Executor)      â”‚    â”‚
â”‚  â”‚ - Conversation       â”‚      â”‚ - Code Execution     â”‚    â”‚
â”‚  â”‚ - Code Generation    â”‚      â”‚ - Result Feedback    â”‚    â”‚
â”‚  â”‚ - Analysis           â”‚      â”‚ - Termination Check  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              EXTERNAL SERVICES                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ OpenAI API   â”‚  â”‚ Web Search   â”‚  â”‚ Docker       â”‚      â”‚
â”‚  â”‚ - GPT-4      â”‚  â”‚ - Web Pages  â”‚  â”‚ - Isolation  â”‚      â”‚
â”‚  â”‚ - GPT-3.5    â”‚  â”‚ - Parsing    â”‚  â”‚ - Execution  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Diagram

```
USER INPUT
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Input Validation & Sanitize â”‚
â”‚ - URL/Query validation      â”‚
â”‚ - Dangerous pattern removal â”‚
â”‚ - Length constraints        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼ (Valid)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Log User Request            â”‚
â”‚ - Message timestamp         â”‚
â”‚ - Request type              â”‚
â”‚ - User input (sanitized)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Initiate Agent Chat         â”‚
â”‚ - Create task message       â”‚
â”‚ - Start performance timer   â”‚
â”‚ - Call assistant agent      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Agent Conversation          â”‚
â”‚ - Assistant analyzes task   â”‚
â”‚ - Generates code if needed  â”‚
â”‚ - User proxy executes code  â”‚
â”‚ - Multiple turns until done â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”œâ”€â”€â”€ Success â”€â”€â”€â–¶ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                 â”‚ Process Response     â”‚
    â”‚                 â”‚ - Extract findings   â”‚
    â”‚                 â”‚ - Format message     â”‚
    â”‚                 â”‚ - Log result         â”‚
    â”‚                 â”‚ - Update stats       â”‚
    â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â””â”€â”€â”€ Error â”€â”€â”€â”€â”€â–¶ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚ Handle Error         â”‚
                      â”‚ - Generate message   â”‚
                      â”‚ - Log error          â”‚
                      â”‚ - Update stats       â”‚
                      â”‚ - Suggest fix        â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Store in Conversation       â”‚
    â”‚ History                     â”‚
    â”‚ - Timestamp                 â”‚
    â”‚ - Task details              â”‚
    â”‚ - Response/Error            â”‚
    â”‚ - Duration                  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Return to UI                â”‚
    â”‚ - Display message           â”‚
    â”‚ - Update history            â”‚
    â”‚ - Refresh metrics           â”‚
    â”‚ - Show export options       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    USER SEES RESULTS
```

## Task Execution Flow

```
Task Selection
    â”‚
    â”œâ”€ Paper Analysis â”€â”€â”€â”€â”€â”€â”¬â”€ Extract URL
    â”‚                        â”œâ”€ Validate format
    â”‚                        â”œâ”€ Generate prompt
    â”‚                        â””â”€ Execute analysis
    â”‚
    â”œâ”€ Stock Market â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€ Validate query
    â”‚                        â”œâ”€ Build search message
    â”‚                        â”œâ”€ Execute search
    â”‚                        â””â”€ Return market data
    â”‚
    â”œâ”€ Web Research â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€ Validate topic
    â”‚                        â”œâ”€ Build research message
    â”‚                        â”œâ”€ Perform search
    â”‚                        â””â”€ Synthesize findings
    â”‚
    â””â”€ Custom Task â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€ Validate task
                            â”œâ”€ Sanitize input
                            â”œâ”€ Execute directly
                            â””â”€ Return results
         â”‚
         â–¼
    Agent Processing
         â”‚
         â–¼
    Return Results
```

## Class Hierarchy

```
BaseClass (implicit)
    â”‚
    â”œâ”€â”€â”€ Config
    â”‚    â””â”€ Configuration management
    â”‚
    â”œâ”€â”€â”€ Logger
    â”‚    â””â”€ Structured logging
    â”‚
    â”œâ”€â”€â”€ MessageProcessor
    â”‚    â”œâ”€ extract_code()
    â”‚    â”œâ”€ clean_message()
    â”‚    â””â”€ extract_key_findings()
    â”‚
    â”œâ”€â”€â”€ ConversationManager
    â”‚    â”œâ”€ add_message()
    â”‚    â”œâ”€ get_history()
    â”‚    â”œâ”€ get_summary()
    â”‚    â””â”€ export_to_json()
    â”‚
    â”œâ”€â”€â”€ ErrorHandler
    â”‚    â”œâ”€ format_error()
    â”‚    â”œâ”€ is_retryable()
    â”‚    â””â”€ get_user_friendly_message()
    â”‚
    â”œâ”€â”€â”€ TaskValidator
    â”‚    â”œâ”€ validate_url()
    â”‚    â”œâ”€ validate_query()
    â”‚    â””â”€ sanitize_input()
    â”‚
    â”œâ”€â”€â”€ PerformanceMonitor
    â”‚    â”œâ”€ record_operation()
    â”‚    â””â”€ get_stats()
    â”‚
    â”œâ”€â”€â”€ AutoGenAgentManager
    â”‚    â”œâ”€ setup_agents()
    â”‚    â”œâ”€ initiate_chat()
    â”‚    â”œâ”€ get_conversation_history()
    â”‚    â”œâ”€ export_conversation()
    â”‚    â”œâ”€ get_performance_stats()
    â”‚    â””â”€ reset()
    â”‚
    â””â”€â”€â”€ TaskExecutor
         â”œâ”€ execute_paper_analysis()
         â”œâ”€ execute_stock_market_analysis()
         â”œâ”€ execute_web_research()
         â””â”€ execute_custom_task()
```

## Configuration Loading Sequence

```
Application Start
    â”‚
    â–¼
Load Environment Variables (.env)
    â”‚
    â–¼
Initialize Config Class
    â”‚
    â”œâ”€ API_TIMEOUT = 600
    â”œâ”€ LLM_TEMPERATURE = 0.0
    â”œâ”€ MAX_CONSECUTIVE_AUTO_REPLY = 10
    â”œâ”€ USE_DOCKER = False
    â””â”€ LOG_LEVEL = INFO
    â”‚
    â–¼
Validate Configuration
    â”‚
    â”œâ”€ Check OPENAI_API_KEY exists
    â”œâ”€ Check OAI_CONFIG_LIST exists
    â”œâ”€ Verify Docker (if USE_DOCKER=True)
    â””â”€ Return validation result
    â”‚
    â–¼
Build LLM Config Dictionary
    â”‚
    â”œâ”€ Load config list from JSON
    â”œâ”€ Filter by model names
    â”œâ”€ Set timeout and temperature
    â””â”€ Set cache seed
    â”‚
    â–¼
Ready for Agent Initialization
```

## Error Handling Flow

```
Exception Occurs
    â”‚
    â–¼
ErrorHandler.format_error()
    â”‚
    â”œâ”€ Capture exception type
    â”œâ”€ Capture error message
    â”œâ”€ Capture stack trace
    â””â”€ Format with context
    â”‚
    â–¼
Check if Retryable?
    â”‚
    â”œâ”€ TimeoutError â”€â”€â”€â”€â”€â”€â”€â–º Retry
    â”œâ”€ ConnectionError â”€â”€â”€â”€â–º Retry
    â”œâ”€ RuntimeError â”€â”€â”€â”€â”€â”€â”€â–º Retry
    â””â”€ Other â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Don't retry
    â”‚
    â–¼
Generate User Message
    â”‚
    â”œâ”€ API Error â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º "ğŸ”Œ API Error: Unable to connect..."
    â”œâ”€ Timeout â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º "â±ï¸ Timeout: Request took too long..."
    â”œâ”€ Auth Error â”€â”€â”€â”€â”€â”€â”€â”€â–º "ğŸ” Authentication: Verify credentials..."
    â””â”€ Unknown â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º "âš ï¸ Error: [message]"
    â”‚
    â–¼
Log Error
    â”‚
    â””â”€ agent.log + console output
    â”‚
    â–¼
Return to User
    â”‚
    â””â”€ Display user-friendly message
```

## Performance Monitoring Sequence

```
Operation Starts
    â”‚
    â–¼
Record Start Time
    â”‚
    â”œâ”€ t_start = time.time()
    â””â”€ operation_name noted
    â”‚
    â–¼
Execute Operation
    â”‚
    â”œâ”€ Try operation
    â”œâ”€ Measure duration
    â””â”€ Determine success/failure
    â”‚
    â–¼
Record Metrics
    â”‚
    â”œâ”€ duration = time.time() - t_start
    â”œâ”€ Add to performance_monitor.metrics
    â”‚
    â””â”€ Store:
        â”œâ”€ operation name
        â”œâ”€ duration_ms
        â”œâ”€ status
        â””â”€ timestamp
    â”‚
    â–¼
Aggregated Statistics
    â”‚
    â”œâ”€ Total operations
    â”œâ”€ Average duration
    â”œâ”€ Total duration
    â”œâ”€ Success rate
    â””â”€ Available in dashboard
```

## UI State Management

```
Session State
    â”‚
    â”œâ”€ agent_manager â”€â”€â”€â”€â”€â”€â”€â”€â–º AutoGenAgentManager instance
    â”œâ”€ agent_initialized â”€â”€â”€â”€â–º Boolean (True/False)
    â”œâ”€ conversation_history â–º List of conversations
    â”œâ”€ current_task â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Current task dict
    â”œâ”€ execution_in_progressâ–º Boolean (executing?)
    â””â”€ performance_stats â”€â”€â”€â”€â–º Stats dictionary
    â”‚
    â–¼
State Transitions
    â”‚
    â”œâ”€ Initialize â”€â”€â”€â”€â”€â”€â”€â–º agent_initialized = True
    â”œâ”€ Execute Task â”€â”€â”€â”€â”€â–º execution_in_progress = True
    â”œâ”€ Complete Task â”€â”€â”€â”€â–º execution_in_progress = False
    â”‚                     conversation_history updated
    â”‚                     performance_stats updated
    â””â”€ Reset â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º All state cleared/reset
```

## Validation Pipeline

```
User Input
    â”‚
    â–¼
Input Type Check
    â”‚
    â”œâ”€ URL? â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€ TaskValidator.validate_url()
    â”‚                 â”‚  â”œâ”€ Regex pattern match
    â”‚                 â”‚  â”œâ”€ Protocol check
    â”‚                 â”‚  â””â”€ Domain validation
    â”‚
    â”œâ”€ Query? â”€â”€â”€â”€â”€â”€â”€â”¬â”€ TaskValidator.validate_query()
    â”‚                 â”‚  â”œâ”€ Length check (5-2000)
    â”‚                 â”‚  â”œâ”€ Empty check
    â”‚                 â”‚  â””â”€ Content validation
    â”‚
    â””â”€ Task? â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€ Basic format check
                      â””â”€ Length limits
     â”‚
     â–¼
Sanitization
     â”‚
     â”œâ”€ Remove dangerous patterns
     â”‚  â”œâ”€ __import__
     â”‚  â”œâ”€ exec(
     â”‚  â”œâ”€ eval(
     â”‚  â”œâ”€ os.
     â”‚  â””â”€ subprocess.
     â”‚
     â””â”€ Clean special characters
     â”‚
     â–¼
Store or Execute
     â”‚
     â””â”€ Safe to use in agent
```

---

These diagrams provide a comprehensive view of the system architecture, data flow, and component interactions.
